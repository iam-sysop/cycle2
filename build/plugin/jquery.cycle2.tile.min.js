/* Plugin for Cycle2; Copyright (c) 2012 M. Alsup; v20190921 */

!function(w){"use strict";w.fn.cycle.transitions.tileSlide=w.fn.cycle.transitions.tileBlind={before:function(i,e,t,n){i.API.stackSlides(e,t,n),w(e).css({display:"block",visibility:"visible"}),i.container.css("overflow","hidden"),i.tileDelay=i.tileDelay||"tileSlide"==i.fx?100:125,i.tileCount=i.tileCount||7,i.tileVertical=!1!==i.tileVertical,i.container.data("cycleTileInitialized")||(i.container.on("cycle-destroyed",w.proxy(this.onDestroy,i.API)),i.container.data("cycleTileInitialized",!0))},transition:function(t,i,e,n,l){t.slides.not(i).not(e).css("visibility","hidden");var o,s,a,c,d,r,f=w(),y=w(i),v=w(e),p=t.tileCount,h=t.tileVertical,b=t.container.height(),u=t.container.width();h?(c=u-(s=Math.floor(u/p))*(p-1),a=d=b):(s=c=u,d=b-(a=Math.floor(b/p))*(p-1)),t.container.find(".cycle-tiles-container").remove();var g={left:0,top:0,overflow:"hidden",position:"absolute",margin:0,padding:0};r=h?"tileSlide"==t.fx?{top:b}:{width:0}:"tileSlide"==t.fx?{left:u}:{height:0};var m=w('<div class="cycle-tiles-container"></div>');m.css({zIndex:y.css("z-index"),overflow:"visible",position:"absolute",top:0,left:0,direction:"ltr"}),m.insertBefore(e);for(var k=0;k<p;k++)o=w("<div></div>").css(g).css({width:p-1===k?c:s,height:p-1===k?d:a,marginLeft:h?k*s:0,marginTop:h?0:k*a}).append(y.clone().css({position:"relative",maxWidth:"none",width:y.width(),margin:0,padding:0,marginLeft:h?-k*s:0,marginTop:h?0:-k*a})),f=f.add(o);m.append(f),y.css("visibility","hidden"),v.css({opacity:1,display:"block",visibility:"visible"}),function i(e){f.eq(e).animate(r,{duration:t.speed,easing:t.easing,complete:function(){(n?p-1===e:0===e)&&t._tileAniCallback()}});setTimeout(function(){(n?p-1!==e:0!==e)&&i(n?e+1:e-1)},t.tileDelay)}(n?0:p-1),t._tileAniCallback=function(){v.css({display:"block",visibility:"visible"}),y.css("visibility","hidden"),m.remove(),l()}},stopTransition:function(i){i.container.find("*").stop(!0,!0),i._tileAniCallback&&i._tileAniCallback()},onDestroy:function(i){this.opts().container.find(".cycle-tiles-container").remove()}}}(jQuery);