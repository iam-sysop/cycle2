/* Plugin for Cycle2; Copyright (c) 2012 M. Alsup; v20200917 */

!function(w){"use strict";w.fn.cycle.transitions.tileSlide=w.fn.cycle.transitions.tileBlind={before:function(i,e,t,n){i.API.stackSlides(e,t,n),w(e).css({display:"block",visibility:"visible"}),i.container.css("overflow","hidden"),i.tileDelay=i.tileDelay||"tileSlide"==i.fx?100:125,i.tileCount=i.tileCount||7,i.tileVertical=!1!==i.tileVertical,i.container.data("cycleTileInitialized")||(i.container.on("cycle-destroyed",w.proxy(this.onDestroy,i.API)),i.container.data("cycleTileInitialized",!0))},transition:function(t,i,e,n,l){t.slides.not(i).not(e).css("visibility","hidden");var o,s,a,c,d,r=w(),f=w(i),y=w(e),p=t.tileCount,v=t.tileVertical,h=t.container.height(),b=t.container.width();v?(c=b-(s=Math.floor(b/p))*(p-1),a=d=h):(s=c=b,d=h-(a=Math.floor(h/p))*(p-1)),t.container.find(".cycle-tiles-container").remove();var u={left:0,top:0,overflow:"hidden",position:"absolute",margin:0,padding:0},g=v?"tileSlide"==t.fx?{top:h}:{width:0}:"tileSlide"==t.fx?{left:b}:{height:0},m=w('<div class="cycle-tiles-container"></div>');m.css({zIndex:f.css("z-index"),overflow:"visible",position:"absolute",top:0,left:0,direction:"ltr"}),m.insertBefore(e);for(var k=0;k<p;k++)o=w("<div></div>").css(u).css({width:p-1===k?c:s,height:p-1===k?d:a,marginLeft:v?k*s:0,marginTop:v?0:k*a}).append(f.clone().css({position:"relative",maxWidth:"none",width:f.width(),margin:0,padding:0,marginLeft:v?-k*s:0,marginTop:v?0:-k*a})),r=r.add(o);m.append(r),f.css("visibility","hidden"),y.css({opacity:1,display:"block",visibility:"visible"}),function i(e){r.eq(e).animate(g,{duration:t.speed,easing:t.easing,complete:function(){(n?p-1===e:0===e)&&t._tileAniCallback()}});setTimeout(function(){(n?p-1!==e:0!==e)&&i(n?e+1:e-1)},t.tileDelay)}(n?0:p-1),t._tileAniCallback=function(){y.css({display:"block",visibility:"visible"}),f.css("visibility","hidden"),m.remove(),l()}},stopTransition:function(i){i.container.find("*").stop(!0,!0),i._tileAniCallback&&i._tileAniCallback()},onDestroy:function(i){this.opts().container.find(".cycle-tiles-container").remove()}}}(jQuery);