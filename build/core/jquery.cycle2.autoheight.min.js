/* Plugin for Cycle2; Copyright (c) 2012 M. Alsup; v20200917 */

!function(s){"use strict";function l(e,i){var t,n,o,c,a,l=i.autoHeight;if("container"==l)n=s(i.slides[i.currSlide]).outerHeight(),i.container.height(n);else if(i._autoHeightRatio)i.container.height(i.container.width()/i._autoHeightRatio);else if("calc"===l||"number"==s.type(l)&&0<=l){if((o="calc"===l?(c=0,a=-1,i.slides.each(function(e){var i=s(this).height();a<i&&(a=i,c=e)}),c):l>=i.slides.length?0:l)==i._sentinelIndex)return;i._sentinelIndex=o,i._sentinel&&i._sentinel.remove(),(t=s(i.slides[o].cloneNode(!0))).removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),t.css({position:"static",visibility:"hidden",display:"block"}).prependTo(i.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),t.find("*").css("visibility","hidden"),i._sentinel=t}}function d(e,i,t,n,o){var c=s(n).outerHeight();i.container.animate({height:c},i.autoHeightSpeed,i.autoHeightEasing)}function r(e,i){i._autoHeightOnResize&&(s(window).off("resize orientationchange",i._autoHeightOnResize),i._autoHeightOnResize=null),i.container.off("cycle-slide-added cycle-slide-removed",l),i.container.off("cycle-destroyed",r),i.container.off("cycle-before",d),i._sentinel&&(i._sentinel.remove(),i._sentinel=null)}s.extend(s.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),s(document).on("cycle-initialized",function(e,i){var t,n=i.autoHeight,o=s.type(n),c=null;function a(){l(0,i)}"string"!==o&&"number"!==o||(i.container.on("cycle-slide-added cycle-slide-removed",l),i.container.on("cycle-destroyed",r),"container"==n?i.container.on("cycle-before",d):"string"===o&&/\d+\:\d+/.test(n)&&(t=(t=n.match(/(\d+)\:(\d+)/))[1]/t[2],i._autoHeightRatio=t),"number"!==o&&(i._autoHeightOnResize=function(){clearTimeout(c),c=setTimeout(a,50)},s(window).on("resize orientationchange",i._autoHeightOnResize)),setTimeout(a,30))})}(jQuery);