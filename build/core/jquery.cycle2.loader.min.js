/* Plugin for Cycle2; Copyright (c) 2012 M. Alsup; v20190921 */

!function(f){"use strict";f.extend(f.fn.cycle.defaults,{loader:!1}),f(document).on("cycle-bootstrap",function(e,c){var s;c.loader&&(s=c.API.add,c.API.add=function(e,a){var r=[];if("string"==f.type(e))e=f.trim(e);else if("array"===f.type(e))for(var n=0;n<e.length;n++)e[n]=f(e[n])[0];var d=(e=f(e)).length;if(!d)return;e.css("visibility","hidden").appendTo("body").each(function(e){var n=0,i=f(this),t=i.is("img")?i:i.find("img");if(i.data("index",e),!(t=t.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])')).length)return--d,void r.push(i);function o(){0==--n&&(--d,function(e){var n;"wait"==c.loader?(r.push(e),0===d&&(r.sort(l),s.apply(c.API,[r,a]),c.container.removeClass("cycle-loading"))):(n=f(c.slides[c.currSlide]),s.apply(c.API,[e,a]),n.show(),c.container.removeClass("cycle-loading"))}(i))}n=t.length,t.each(function(){this.complete?o():f(this).on("load",function(){o()}).on("error",function(){0==--n&&(c.API.log("slide skipped; img not loaded:",this.src),0==--d&&"wait"==c.loader&&s.apply(c.API,[r,a]))})})}),d&&c.container.addClass("cycle-loading");function l(e,n){return e.data("index")-n.data("index")}})})}(jQuery);